<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Crumbs - Premium Bakery</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1a1a2e;
            --secondary: #16213e;
            --accent: #0f3460;
            --warm: #e94560;
            --gold: #f39c12;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --background: #fafafa;
            --surface: #ffffff;
            --surface-variant: #f5f5f7;
            --on-primary: #ffffff;
            --on-surface: #2d2d2d;
            --on-surface-variant: #6b7280;
            --outline: #d1d5db;
            --shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
            --shadow-elevated: 0 10px 25px rgba(0,0,0,0.1), 0 4px 10px rgba(0,0,0,0.05);
            --border-radius: 8px;
            --border-radius-lg: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--background);
            color: var(--on-surface);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Header & Navigation */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--outline);
            z-index: 1000;
            height: 80px;
            display: flex;
            align-items: center;
            padding: 0 2rem;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--warm);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            margin: 0;
        }

        .nav-link {
            text-decoration: none;
            color: var(--on-surface-variant);
            font-weight: 500;
            padding: 0.75rem 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-link:hover {
            background: var(--surface-variant);
            color: var(--primary);
        }

        .nav-link.active {
            background: var(--primary);
            color: var(--on-primary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .admin-toggle {
            background: var(--accent);
            color: var(--on-primary);
            border: none;
            padding: 0.75rem 1rem;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .admin-toggle:hover {
            background: var(--secondary);
            transform: translateY(-1px);
        }

        .cart-button {
            position: relative;
            background: var(--primary);
            color: var(--on-primary);
            border: none;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .cart-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-elevated);
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--warm);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
            border: 2px solid white;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.9) 0%, rgba(22, 33, 62, 0.9) 50%, rgba(15, 52, 96, 0.9) 100%),
                        url('https://images.unsplash.com/photo-1517433670267-08bbd4be890f?w=1920&h=1080&fit=crop&crop=center') center/cover;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"><animate attributeName="opacity" values="0.1;0.3;0.1" dur="3s" repeatCount="indefinite"/></circle><circle cx="75" cy="25" r="1.5" fill="white" opacity="0.1"><animate attributeName="opacity" values="0.1;0.4;0.1" dur="2s" repeatCount="indefinite"/></circle><circle cx="25" cy="75" r="0.8" fill="white" opacity="0.1"><animate attributeName="opacity" values="0.1;0.25;0.1" dur="4s" repeatCount="indefinite"/></circle><circle cx="75" cy="75" r="1.2" fill="white" opacity="0.1"><animate attributeName="opacity" values="0.1;0.35;0.1" dur="2.5s" repeatCount="indefinite"/></circle></svg>');
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }

        .hero-content {
            max-width: 800px;
            z-index: 2;
            position: relative;
        }

        .hero-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            color: white;
            margin-bottom: 1.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2.5rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            background: var(--warm);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: var(--shadow-elevated);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(233, 69, 96, 0.3);
        }

        /* Main Content */
        .main-content {
            margin-top: 80px;
        }

        .section {
            display: none;
            min-height: calc(100vh - 80px);
        }

        .section.active {
            display: block;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Products Section */
        .products-section {
            padding: 4rem 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .section-description {
            font-size: 1.2rem;
            color: var(--on-surface-variant);
            max-width: 600px;
            margin: 0 auto;
        }

        .filter-tabs {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .filter-tab {
            background: transparent;
            border: 2px solid var(--outline);
            color: var(--on-surface-variant);
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-tab:hover {
            border-color: var(--warm);
            color: var(--warm);
        }

        .filter-tab.active {
            background: var(--primary);
            border-color: var(--primary);
            color: var(--on-primary);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .product-card {
            background: var(--surface);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            border: 1px solid var(--outline);
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-elevated);
            border-color: var(--warm);
        }

        .product-image {
            height: 250px;
            background-size: cover;
            background-position: center;
            position: relative;
            background-color: var(--surface-variant);
        }

        .product-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--warm);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.875rem;
            font-weight: 600;
            box-shadow: var(--shadow);
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-name {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .product-description {
            color: var(--on-surface-variant);
            margin-bottom: 1rem;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--warm);
            margin-bottom: 1rem;
        }

        .add-to-cart-btn {
            width: 100%;
            background: var(--primary);
            color: var(--on-primary);
            border: none;
            padding: 0.875rem;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .add-to-cart-btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            height: 100vh;
            background: var(--surface);
            box-shadow: -10px 0 40px rgba(0,0,0,0.15);
            z-index: 2000;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.open {
            right: 0;
        }

        .cart-header {
            padding: 2rem;
            border-bottom: 1px solid var(--outline);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--surface-variant);
        }

        .cart-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--on-surface-variant);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .close-cart:hover {
            background: var(--surface-variant);
            color: var(--primary);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
        }

        .cart-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--surface-variant);
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            background-size: cover;
            background-position: center;
            border-radius: var(--border-radius);
            background-color: var(--outline);
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.25rem;
        }

        .cart-item-price {
            color: var(--on-surface-variant);
            font-size: 0.9rem;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quantity-btn {
            width: 32px;
            height: 32px;
            border: 1px solid var(--outline);
            background: var(--surface);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .quantity-btn:hover {
            background: var(--primary);
            color: var(--on-primary);
            border-color: var(--primary);
        }

        .cart-footer {
            padding: 2rem;
            border-top: 1px solid var(--outline);
            background: var(--surface-variant);
        }

        .cart-total {
            margin-bottom: 1.5rem;
        }

        .total-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .total-line.final {
            font-size: 1.25rem;
            font-weight: 700;
            padding-top: 0.5rem;
            border-top: 1px solid var(--outline);
            color: var(--primary);
        }

        .checkout-btn {
            width: 100%;
            background: var(--warm);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-elevated);
        }

        /* Tracking Section */
        .tracking-section {
            padding: 4rem 0;
            text-align: center;
        }

        .tracking-input-group {
            max-width: 500px;
            margin: 2rem auto;
            display: flex;
            gap: 1rem;
        }

        .tracking-input {
            flex: 1;
            padding: 1rem;
            border: 2px solid var(--outline);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .tracking-input:focus {
            outline: none;
            border-color: var(--warm);
        }

        .track-btn {
            background: var(--primary);
            color: var(--on-primary);
            border: none;
            padding: 1rem 1.5rem;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .track-btn:hover {
            background: var(--secondary);
        }

        .order-status-card {
            max-width: 800px;
            margin: 2rem auto;
            background: var(--surface);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow-elevated);
            border: 1px solid var(--outline);
        }

        .status-timeline {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 2rem 0;
            position: relative;
        }

        .status-timeline::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 10%;
            right: 10%;
            height: 2px;
            background: var(--outline);
            transform: translateY(-50%);
        }

        .status-step {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--surface);
            border: 3px solid var(--outline);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
            transition: var(--transition);
        }

        .status-step.completed {
            background: var(--primary);
            border-color: var(--primary);
            color: var(--on-primary);
        }

        .status-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: var(--on-surface-variant);
        }

        /* Delay Alert */
        .delay-alert {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            color: #92400e;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin: 1rem 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .delay-alert.hidden {
            display: none;
        }

        /* Admin Login Modal */
        .admin-login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }

        .admin-login-modal.active {
            display: flex;
        }

        .login-form {
            background: var(--surface);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            box-shadow: var(--shadow-elevated);
        }

        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .login-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        /* Admin Section */
        .admin-section {
            padding: 4rem 0;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: var(--surface);
            padding: 2rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            text-align: center;
            border: 1px solid var(--outline);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            background: var(--warm);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 1.5rem;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--on-surface-variant);
            font-weight: 500;
        }

        .admin-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .admin-actions {
            display: flex;
            gap: 1rem;
        }

        .admin-btn {
            background: var(--primary);
            color: var(--on-primary);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .admin-btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .logout-btn {
            background: var(--warm);
        }

        .logout-btn:hover {
            background: #d63547;
        }

        .orders-table {
            background: var(--surface);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--outline);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th,
        .table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--outline);
        }

        .table th {
            background: var(--surface-variant);
            font-weight: 600;
            color: var(--primary);
        }

        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .status-preparing {
            background: #fed7aa;
            color: #c2410c;
        }

        .status-ready {
            background: #bfdbfe;
            color: #1e40af;
        }

        .status-delivered {
            background: #bbf7d0;
            color: #047857;
        }

        .status-delayed {
            background: #fecaca;
            color: #dc2626;
        }

        .select-input {
            padding: 0.5rem;
            border: 1px solid var(--outline);
            border-radius: var(--border-radius);
            background: var(--surface);
            color: var(--on-surface);
            cursor: pointer;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--surface);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--primary);
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--outline);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--warm);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        .btn-secondary {
            background: var(--outline);
            color: var(--on-surface);
        }

        .btn-secondary:hover {
            background: var(--on-surface-variant);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--surface);
            border: 1px solid var(--outline);
            border-radius: var(--border-radius);
            padding: 1rem 1.5rem;
            box-shadow: var(--shadow-elevated);
            z-index: 5000;
            animation: slideInRight 0.3s ease;
            max-width: 400px;
        }

        .notification.success {
            border-color: var(--success);
            background: #ecfdf5;
            color: #047857;
        }

        .notification.error {
            border-color: var(--error);
            background: #fef2f2;
            color: #dc2626;
        }

        .notification.warning {
            border-color: var(--warning);
            background: #fffbeb;
            color: #92400e;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar {
                padding: 0 1rem;
            }

            .nav-menu {
                display: none;
            }

            .hero-title {
                font-size: 2.5rem;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .cart-sidebar {
                width: 100%;
                right: -100%;
            }

            .filter-tabs {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 1rem;
            }

            .admin-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .header-actions {
                gap: 0.5rem;
            }

            .admin-toggle {
                padding: 0.5rem 0.75rem;
                font-size: 0.8rem;
            }

            .status-timeline {
                flex-direction: column;
                gap: 1rem;
            }

            .status-timeline::before {
                display: none;
            }

            .status-labels {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <a href="#" class="logo">
                <div class="logo-icon">
                    <i class="fas fa-birthday-cake"></i>
                </div>
                Sweet Crumbs
            </a>
            
            <ul class="nav-menu">
                <li><a href="#home" class="nav-link active" onclick="showSection('home')">
                    <i class="fas fa-home"></i> Home
                </a></li>
                <li><a href="#products" class="nav-link" onclick="showSection('products')">
                    <i class="fas fa-cookie-bite"></i> Products
                </a></li>
                <li><a href="#tracking" class="nav-link" onclick="showSection('tracking')">
                    <i class="fas fa-truck"></i> Track Order
                </a></li>
            </ul>
            
            <div class="header-actions">
                <button class="admin-toggle" onclick="showAdminLogin()">
                    <i class="fas fa-user-shield"></i>
                    Admin
                </button>
                
                <button class="cart-button" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-badge" id="cartCount">0</span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Section -->
        <section id="home" class="section active">
            <div class="hero">
                <div class="hero-content">
                    <h1 class="hero-title">Welcome to Sweet Crumbs</h1>
                    <p class="hero-subtitle">
                        Experience the finest handcrafted bakery delights, made with premium ingredients and delivered fresh to your doorstep.
                    </p>
                    <button class="cta-button" onclick="showSection('products')">
                        <i class="fas fa-shopping-bag"></i>
                        Explore Our Products
                    </button>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="section">
            <div class="products-section">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Our Premium Products</h2>
                        <p class="section-description">
                            Discover our extensive collection of handcrafted cakes, pastries, and seasonal specialties
                        </p>
                    </div>

                    <div class="filter-tabs">
                        <button class="filter-tab active" onclick="filterProducts('all')">
                            <i class="fas fa-th-large"></i> All Products
                        </button>
                        <button class="filter-tab" onclick="filterProducts('cakes')">
                            <i class="fas fa-birthday-cake"></i> Cakes
                        </button>
                        <button class="filter-tab" onclick="filterProducts('pastries')">
                            <i class="fas fa-cookie"></i> Pastries
                        </button>
                        <button class="filter-tab" onclick="filterProducts('seasonal')">
                            <i class="fas fa-leaf"></i> Seasonal
                        </button>
                    </div>

                    <div class="products-grid" id="productsGrid">
                        <!-- Products will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Tracking Section -->
        <section id="tracking" class="section">
            <div class="tracking-section">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Track Your Order</h2>
                        <p class="section-description">
                            Enter your order number to track the real-time status of your delivery
                        </p>
                    </div>

                    <div class="tracking-input-group">
                        <input type="text" class="tracking-input" id="orderNumber" placeholder="Enter order number (e.g., SC001)">
                        <button class="track-btn" onclick="trackOrder()">
                            <i class="fas fa-search"></i> Track
                        </button>
                    </div>

                    <div id="orderStatusCard" class="order-status-card hidden">
                        <h3>Order #<span id="displayOrderNumber"></span></h3>
                        
                        <div class="delay-alert hidden" id="delayAlert">
                            <i class="fas fa-exclamation-triangle"></i>
                            <div>
                                <strong>Delivery Delayed</strong><br>
                                <span id="delayReason">Due to heavy traffic in your area, delivery may be delayed by 15-20 minutes.</span>
                            </div>
                        </div>
                        
                        <div class="status-timeline">
                            <div class="status-step completed">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="status-step completed">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <div class="status-step">
                                <i class="fas fa-truck"></i>
                            </div>
                            <div class="status-step">
                                <i class="fas fa-home"></i>
                            </div>
                        </div>
                        
                        <div class="status-labels">
                            <span>Order Placed</span>
                            <span>Preparing</span>
                            <span>Out for Delivery</span>
                            <span>Delivered</span>
                        </div>

                        <div class="driver-info" style="margin-top: 2rem; padding: 1.5rem; background: var(--surface-variant); border-radius: var(--border-radius);">
                            <h4 style="margin-bottom: 1rem; color: var(--primary);">
                                <i class="fas fa-motorcycle"></i> Delivery Information
                            </h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                <div>
                                    <strong>Driver:</strong> <span id="driverName">Rajesh Kumar</span>
                                </div>
                                <div>
                                    <strong>Contact:</strong> <span id="driverContact">+91 9876543210</span>
                                </div>
                                <div>
                                    <strong>Vehicle:</strong> <span id="driverVehicle">Honda Activa - MH 01 AB 1234</span>
                                </div>
                                <div>
                                    <strong>ETA:</strong> <span id="deliveryTime">25-35 minutes</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Admin Section -->
        <section id="admin" class="section">
            <div class="admin-section">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Admin Dashboard</h2>
                        <p class="section-description">
                            Manage orders, track deliveries, and oversee bakery operations
                        </p>
                    </div>

                    <div class="admin-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-shopping-bag"></i>
                            </div>
                            <div class="stat-number" id="totalOrders">24</div>
                            <div class="stat-label">Total Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-number" id="pendingOrders">8</div>
                            <div class="stat-label">Pending Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-truck"></i>
                            </div>
                            <div class="stat-number" id="activeDeliveries">5</div>
                            <div class="stat-label">Active Deliveries</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-rupee-sign"></i>
                            </div>
                            <div class="stat-number">₹<span id="todayRevenue">18,450</span></div>
                            <div class="stat-label">Today's Revenue</div>
                        </div>
                    </div>

                    <div class="admin-controls">
                        <h3 class="admin-title">Order Management</h3>
                        <div class="admin-actions">
                            <button class="admin-btn" onclick="refreshOrders()">
                                <i class="fas fa-sync"></i> Refresh
                            </button>
                            <button class="admin-btn" onclick="exportOrders()">
                                <i class="fas fa-download"></i> Export
                            </button>
                            <button class="admin-btn logout-btn" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </button>
                        </div>
                    </div>

                    <div class="orders-table">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th><i class="fas fa-hashtag"></i> Order ID</th>
                                    <th><i class="fas fa-user"></i> Customer</th>
                                    <th><i class="fas fa-shopping-bag"></i> Items</th>
                                    <th><i class="fas fa-rupee-sign"></i> Amount</th>
                                    <th><i class="fas fa-info-circle"></i> Status</th>
                                    <th><i class="fas fa-motorcycle"></i> Driver</th>
                                    <th><i class="fas fa-cog"></i> Actions</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- Orders will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Admin Login Modal -->
    <div class="admin-login-modal" id="adminLoginModal">
        <div class="login-form">
            <div class="login-header">
                <h3 class="login-title">
                    <i class="fas fa-shield-alt"></i>
                    Admin Login
                </h3>
                <p>Please enter your credentials to access the admin panel</p>
            </div>
            
            <form id="adminLoginForm">
                <div class="form-group">
                    <label class="form-label" for="adminUsername">
                        <i class="fas fa-user"></i> Username
                    </label>
                    <input type="text" class="form-input" id="adminUsername" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="adminPassword">
                        <i class="fas fa-lock"></i> Password
                    </label>
                    <input type="password" class="form-input" id="adminPassword" required>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="admin-btn btn-secondary" onclick="closeAdminLogin()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="submit" class="admin-btn">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3 class="cart-title">
                <i class="fas fa-shopping-cart"></i>
                Your Cart
            </h3>
            <button class="close-cart" onclick="toggleCart()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be displayed here -->
        </div>
        
        <div class="cart-footer">
            <div class="cart-total">
                <div class="total-line">
                    <span>Subtotal:</span>
                    <span>₹<span id="subtotal">0.00</span></span>
                </div>
                <div class="total-line">
                    <span>Delivery:</span>
                    <span>₹<span id="delivery">50.00</span></span>
                </div>
                <div class="total-line final">
                    <span>Total:</span>
                    <span>₹<span id="cartTotal">50.00</span></span>
                </div>
            </div>
            <button class="checkout-btn" onclick="openCheckoutModal()">
                <i class="fas fa-credit-card"></i>
                Proceed to Checkout
            </button>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-shopping-cart"></i>
                    Complete Your Order
                </h3>
                <p>Please fill in your details to place the order</p>
            </div>
            
            <form id="checkoutForm">
                <div class="form-group">
                    <label class="form-label" for="customerName">
                        <i class="fas fa-user"></i> Full Name
                    </label>
                    <input type="text" class="form-input" id="customerName" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="customerEmail">
                        <i class="fas fa-envelope"></i> Email Address
                    </label>
                    <input type="email" class="form-input" id="customerEmail" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="customerPhone">
                        <i class="fas fa-phone"></i> Phone Number
                    </label>
                    <input type="tel" class="form-input" id="customerPhone" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="deliveryAddress">
                        <i class="fas fa-map-marker-alt"></i> Delivery Address
                    </label>
                    <textarea class="form-input form-textarea" id="deliveryAddress" required></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="paymentMethod">
                        <i class="fas fa-credit-card"></i> Payment Method
                    </label>
                    <select class="form-input" id="paymentMethod" required>
                        <option value="">Select Payment Method</option>
                        <option value="upi">UPI (GPay/PhonePe/Paytm)</option>
                        <option value="card">Credit/Debit Card</option>
                        <option value="netbanking">Net Banking</option>
                        <option value="cod">Cash on Delivery</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="specialInstructions">
                        <i class="fas fa-sticky-note"></i> Special Instructions
                    </label>
                    <textarea class="form-input form-textarea" id="specialInstructions" rows="3"></textarea>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="admin-btn btn-secondary" onclick="closeCheckoutModal()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="submit" class="admin-btn">
                        <i class="fas fa-shopping-cart"></i> Place Order (₹<span id="finalTotal">0.00</span>)
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Application State
        let cart = [];
        let currentOrderNumber = 8;
        let isAdminLoggedIn = false;
        let orders = [
            {
                id: 'SC001',
                customer: 'Priya Sharma',
                phone: '+91 9876543210',
                items: ['Chocolate Truffle Cake', 'Red Velvet Cake'],
                total: 2399.98,
                status: 'delivered',
                driver: 'Rajesh Kumar',
                address: 'A-23, Green Park, New Delhi 110016',
                timestamp: new Date('2025-07-29T10:30:00'),
                delayed: false
            },
            {
                id: 'SC002',
                customer: 'Arjun Patel',
                phone: '+91 9887654321',
                items: ['Custom Wedding Cake'],
                total: 4999.99,
                status: 'preparing',
                driver: 'Sunita Devi',
                address: 'B-45, Andheri East, Mumbai 400069',
                timestamp: new Date('2025-07-30T08:15:00'),
                delayed: false
            },
            {
                id: 'SC003',
                customer: 'Kavya Reddy',
                phone: '+91 9765432108',
                items: ['Strawberry Cheesecake', 'Chocolate Eclairs (6 pcs)'],
                total: 1199.98,
                status: 'ready',
                driver: 'Vikram Singh',
                address: 'C-12, Banjara Hills, Hyderabad 500034',
                timestamp: new Date('2025-07-30T11:45:00'),
                delayed: true,
                delayReason: 'Heavy traffic in Banjara Hills area'
            },
            {
                id: 'SC004',
                customer: 'Rohit Gupta',
                phone: '+91 9654321087',
                items: ['Butter Croissant Variety Pack', 'Mixed Fruit Tarts'],
                total: 949.98,
                status: 'pending',
                driver: null,
                address: 'D-78, Sector 18, Gurgaon 122015',
                timestamp: new Date('2025-07-30T12:30:00'),
                delayed: false
            },
            {
                id: 'SC005',
                customer: 'Meera Joshi',
                phone: '+91 9543210876',
                items: ['Monsoon Special Cake'],
                total: 1599.99,
                status: 'ready',
                driver: 'Pooja Reddy',
                address: 'E-56, Koregaon Park, Pune 411001',
                timestamp: new Date('2025-07-30T13:15:00'),
                delayed: true,
                delayReason: 'Road construction causing delays'
            },
            {
                id: 'SC006',
                customer: 'Sanjay Kumar',
                phone: '+91 9432109765',
                items: ['Chocolate Chip Cookies (1 dozen)', 'Birthday Cupcakes (12 pcs)'],
                total: 849.98,
                status: 'preparing',
                driver: 'Amit Sharma',
                address: 'F-34, Salt Lake, Kolkata 700064',
                timestamp: new Date('2025-07-30T14:00:00'),
                delayed: false
            },
            {
                id: 'SC007',
                customer: 'Anjali Singh',
                phone: '+91 9321098654',
                items: ['Fresh Strawberry Cheesecake'],
                total: 899.99,
                status: 'ready',
                driver: 'Deepak Yadav',
                address: 'G-23, Jayanagar, Bangalore 560011',
                timestamp: new Date('2025-07-30T15:20:00'),
                delayed: false
            }
        ];

        // Product Data with real photos and updated seasonal items
        const products = [
            {
                id: 1,
                name: 'Chocolate Truffle Birthday Cake',
                description: 'Rich Belgian chocolate layers with vanilla buttercream and fresh berries, perfect for celebrations',
                price: 1299.99,
                category: 'cakes',
                badge: 'Best Seller',
                image: 'https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 2,
                name: 'Fresh Strawberry Cheesecake',
                description: 'Creamy New York style cheesecake with fresh strawberry compote and graham cracker crust',
                price: 899.99,
                category: 'cakes',
                badge: 'Premium',
                image: 'https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 3,
                name: 'Butter Croissant Variety Pack',
                description: 'Assorted French croissants with different fillings - chocolate, almond, and plain (6 pieces)',
                price: 399.99,
                category: 'pastries',
                badge: 'Fresh Daily',
                image: 'https://images.unsplash.com/photo-1681218079567-35aef7c8e7e4?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 4,
                name: 'Mixed Fruit Tarts',
                description: 'Delicate pastry shells filled with vanilla custard and topped with seasonal fruits',
                price: 549.99,
                category: 'pastries',
                badge: 'Seasonal',
                image: 'https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 5,
                name: 'Custom Wedding Cake',
                description: 'Multi-tier wedding cake with elegant designs, premium decorations and your choice of flavors',
                price: 4999.99,
                category: 'cakes',
                badge: 'Custom Order',
                image: 'https://images.unsplash.com/photo-1535141192574-5d4897c12636?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 6,
                name: 'Chocolate Eclairs (6 pcs)',
                description: 'Classic French pastries filled with vanilla cream and topped with rich chocolate glaze',
                price: 299.99,
                category: 'pastries',
                badge: 'Popular',
                image: 'https://images.unsplash.com/photo-1540337706094-da10342c93d8?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 7,
                name: 'Red Velvet Cake',
                description: 'Classic red velvet cake with cream cheese frosting, layered with premium ingredients',
                price: 1099.99,
                category: 'cakes',
                badge: 'Premium',
                image: 'https://images.unsplash.com/photo-1685957652870-d56b0e5bea52?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 8,
                name: 'Monsoon Special Cake',
                description: 'Warm spiced cake with cardamom and ginger, perfect for the rainy season with masala chai',
                price: 1599.99,
                category: 'seasonal',
                badge: 'Monsoon Special',
                image: 'https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 9,
                name: 'Chocolate Chip Cookies (1 dozen)',
                description: 'Freshly baked cookies with premium chocolate chips, crispy outside and soft inside',
                price: 249.99,
                category: 'pastries',
                badge: 'Kids Favorite',
                image: 'https://images.unsplash.com/photo-1499636136210-6f4ee915583e?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 10,
                name: 'Birthday Cupcakes (12 pcs)',
                description: 'Colorful cupcakes with buttercream frosting, perfect for birthday celebrations',
                price: 599.99,
                category: 'cakes',
                badge: 'Party Pack',
                image: 'https://images.unsplash.com/photo-1587668178277-295251f900ce?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 11,
                name: 'Lemon Drizzle Cake',
                description: 'Moist lemon sponge cake with tangy lemon glaze, a refreshing citrus delight',
                price: 799.99,
                category: 'cakes',
                badge: 'Fresh',
                image: 'https://images.unsplash.com/photo-1519915028121-7d3463d20b13?w=400&h=300&fit=crop&crop=center'
            },
            {
                id: 12,
                name: 'Monsoon Fruit Platter Cake',
                description: 'Light sponge cake topped with seasonal monsoon fruits like jamun and litchi',
                price: 1299.99,
                category: 'seasonal',
                badge: 'Limited Time',
                image: 'https://images.unsplash.com/photo-1488477181946-6428a0291777?w=400&h=300&fit=crop&crop=center'
            }
        ];

        // Driver Information
        const drivers = {
            'Rajesh Kumar': { contact: '+91 9876543210', vehicle: 'Honda Activa - MH 01 AB 1234' },
            'Sunita Devi': { contact: '+91 9887654321', vehicle: 'TVS Jupiter - MH 02 CD 5678' },
            'Vikram Singh': { contact: '+91 9798765432', vehicle: 'Bajaj Pulsar - DL 03 EF 9012' },
            'Pooja Reddy': { contact: '+91 9709876543', vehicle: 'Hero Splendor - KA 04 GH 3456' },
            'Amit Sharma': { contact: '+91 9620987654', vehicle: 'Yamaha FZ - WB 05 IJ 7890' },
            'Deepak Yadav': { contact: '+91 9531098765', vehicle: 'Royal Enfield - KA 06 KL 2345' }
        };

        // Delay reasons array for random selection
        const delayReasons = [
            'Heavy traffic in your area',
            'Road construction causing delays',
            'Weather conditions affecting delivery',
            'Vehicle breakdown - replacement driver assigned',
            'Unexpected traffic jam on delivery route',
            'Festival procession causing road closures'
        ];

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            updateCartDisplay();
            if (isAdminLoggedIn) {
                loadAdminOrders();
                updateAdminStats();
            }
        });

        // Navigation Functions
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            // Remove active class from all nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });

            // Show target section
            document.getElementById(sectionId).classList.add('active');

            // Add active class to corresponding nav link
            const navLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (navLink) {
                navLink.classList.add('active');
            }
        }

        // Admin Authentication
        function showAdminLogin() {
            if (isAdminLoggedIn) {
                showSection('admin');
                return;
            }
            document.getElementById('adminLoginModal').classList.add('active');
        }

        function closeAdminLogin() {
            document.getElementById('adminLoginModal').classList.remove('active');
        }

        document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            // Simple authentication (in production, this would be server-side)
            if (username === 'admin' && password === 'sweetcrumbs2025') {
                isAdminLoggedIn = true;
                closeAdminLogin();
                showSection('admin');
                loadAdminOrders();
                updateAdminStats();
                showNotification('Successfully logged in as admin', 'success');
                
                // Clear form
                document.getElementById('adminLoginForm').reset();
            } else {
                showNotification('Invalid credentials. Please try again.', 'error');
            }
        });

        function logout() {
            isAdminLoggedIn = false;
            showSection('home');
            showNotification('Successfully logged out', 'success');
        }

        // Product Functions
        function loadProducts(filter = 'all') {
            const grid = document.getElementById('productsGrid');
            const filteredProducts = filter === 'all' ? products : products.filter(p => p.category === filter);
            
            grid.innerHTML = filteredProducts.map(product => `
                <div class="product-card" data-category="${product.category}">
                    <div class="product-image" style="background-image: url('${product.image}')">
                        <div class="product-badge">${product.badge}</div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-price">₹${product.price.toFixed(2)}</div>
                        <button class="add-to-cart-btn" onclick="addToCart(${product.id})">
                            <i class="fas fa-cart-plus"></i>
                            Add to Cart
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function filterProducts(category) {
            // Update active filter
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Load filtered products
            loadProducts(category);
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                updateCartDisplay();
                showNotification(`${product.name} added to cart!`, 'success');
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartDisplay();
            showNotification('Item removed from cart', 'success');
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartDisplay();
                }
            }
        }

        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            const subtotalElement = document.getElementById('subtotal');
            const deliveryElement = document.getElementById('delivery');
            const cartTotalElement = document.getElementById('cartTotal');
            const finalTotalElement = document.getElementById('finalTotal');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const delivery = subtotal > 0 ? 50 : 0;
            const total = subtotal + delivery;
            
            cartCount.textContent = totalItems;
            subtotalElement.textContent = subtotal.toFixed(2);
            deliveryElement.textContent = delivery.toFixed(2);
            cartTotalElement.textContent = total.toFixed(2);
            if (finalTotalElement) finalTotalElement.textContent = total.toFixed(2);
            
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div style="padding: 3rem; text-align: center; color: var(--on-surface-variant);">
                        <i class="fas fa-shopping-cart" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                        <p>Your cart is empty</p>
                        <p style="font-size: 0.9rem; margin-top: 0.5rem;">Add some delicious treats!</p>
                    </div>
                `;
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <div class="cart-item-image" style="background-image: url('${item.image}')"></div>
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">₹${item.price.toFixed(2)} × ${item.quantity}</div>
                        </div>
                        <div class="cart-item-actions">
                            <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">
                                <i class="fas fa-minus"></i>
                            </button>
                            <span style="margin: 0 0.5rem; font-weight: 600;">${item.quantity}</span>
                            <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Cart Functions
        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            cartSidebar.classList.toggle('open');
        }

        function openCheckoutModal() {
            if (cart.length === 0) {
                showNotification('Your cart is empty! Add some items first.', 'error');
                return;
            }
            
            document.getElementById('checkoutModal').classList.add('active');
            toggleCart();
        }

        function closeCheckoutModal() {
            document.getElementById('checkoutModal').classList.remove('active');
        }

        // Checkout Form Handler
        document.getElementById('checkoutForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal + 50;
            
            const orderData = {
                id: `SC${String(currentOrderNumber).padStart(3, '0')}`,
                customer: document.getElementById('customerName').value,
                phone: document.getElementById('customerPhone').value,
                email: document.getElementById('customerEmail').value,
                address: document.getElementById('deliveryAddress').value,
                items: cart.map(item => `${item.name} (${item.quantity})`),
                total: total,
                status: 'pending',
                driver: null,
                timestamp: new Date(),
                delayed: false
            };
            
            orders.unshift(orderData);
            currentOrderNumber++;
            
            // Clear cart
            cart = [];
            updateCartDisplay();
            closeCheckoutModal();
            
            // Show success
            showNotification(`Order placed successfully! Your order number is ${orderData.id}`, 'success');
            
            // Update admin panel if logged in
            if (isAdminLoggedIn) {
                loadAdminOrders();
                updateAdminStats();
            }
            
            // Clear form
            document.getElementById('checkoutForm').reset();
        });

        // Order Tracking
        function trackOrder() {
            const orderNumber = document.getElementById('orderNumber').value.trim().toUpperCase();
            const order = orders.find(o => o.id.toUpperCase() === orderNumber);
            
            if (order) {
                document.getElementById('displayOrderNumber').textContent = orderNumber;
                document.getElementById('orderStatusCard').classList.remove('hidden');
                
                // Show delay alert if order is delayed
                const delayAlert = document.getElementById('delayAlert');
                const delayReason = document.getElementById('delayReason');
                
                if (order.delayed) {
                    delayAlert.classList.remove('hidden');
                    delayReason.textContent = order.delayReason || delayReasons[Math.floor(Math.random() * delayReasons.length)] + ' - estimated delay: 15-20 minutes.';
                } else {
                    delayAlert.classList.add('hidden');
                }
                
                // Update driver info if assigned
                if (order.driver && drivers[order.driver]) {
                    document.getElementById('driverName').textContent = order.driver;
                    document.getElementById('driverContact').textContent = drivers[order.driver].contact;
                    document.getElementById('driverVehicle').textContent = drivers[order.driver].vehicle;
                }
                
                showNotification('Order found! Displaying tracking information.', 'success');
            } else {
                showNotification('Order not found. Please check your order number.', 'error');
                document.getElementById('orderStatusCard').classList.add('hidden');
            }
        }

        // Admin Functions
        function loadAdminOrders() {
            if (!isAdminLoggedIn) return;
            
            const tableBody = document.getElementById('ordersTableBody');
            const driverOptions = Object.keys(drivers);
            
            tableBody.innerHTML = orders.map(order => `
                <tr>
                    <td><strong>${order.id}</strong></td>
                    <td>
                        <div>${order.customer}</div>
                        <small style="color: var(--on-surface-variant);">${order.phone}</small>
                    </td>
                    <td>
                        <div style="max-width: 200px; overflow: hidden; text-overflow: ellipsis;">
                            ${Array.isArray(order.items) ? order.items.join(', ') : order.items}
                        </div>
                    </td>
                    <td><strong>₹${order.total.toFixed(2)}</strong></td>
                    <td>
                        <span class="status-badge status-${order.delayed ? 'delayed' : order.status}">
                            ${order.delayed ? 'Delayed' : (order.status.charAt(0).toUpperCase() + order.status.slice(1))}
                        </span>
                    </td>
                    <td>
                        <select class="select-input" onchange="assignDriver('${order.id}', this.value)">
                            <option value="">Assign Driver</option>
                            ${driverOptions.map(driver => `
                                <option value="${driver}" ${order.driver === driver ? 'selected' : ''}>${driver}</option>
                            `).join('')}
                        </select>
                    </td>
                    <td>
                        <select class="select-input" onchange="updateOrderStatus('${order.id}', this.value)">
                            <option value="">Update Status</option>
                            <option value="pending">Pending</option>
                            <option value="preparing">Preparing</option>
                            <option value="ready">Ready</option>
                            <option value="delivered">Delivered</option>
                            <option value="delayed">Mark as Delayed</option>
                        </select>
                    </td>
                </tr>
            `).join('');
        }

        function updateAdminStats() {
            if (!isAdminLoggedIn) return;
            
            const totalOrders = orders.length;
            const pendingOrders = orders.filter(o => o.status === 'pending' || o.status === 'preparing').length;
            const activeDeliveries = orders.filter(o => o.status === 'ready').length;
            const todayRevenue = orders
                .filter(o => {
                    const today = new Date();
                    const orderDate = new Date(o.timestamp);
                    return orderDate.toDateString() === today.toDateString();
                })
                .reduce((sum, o) => sum + o.total, 0);
            
            document.getElementById('totalOrders').textContent = totalOrders;
            document.getElementById('pendingOrders').textContent = pendingOrders;
            document.getElementById('activeDeliveries').textContent = activeDeliveries;
            document.getElementById('todayRevenue').textContent = todayRevenue.toFixed(0);
        }

        function assignDriver(orderId, driverName) {
            if (!isAdminLoggedIn) return;
            
            const order = orders.find(o => o.id === orderId);
            if (order && driverName) {
                order.driver = driverName;
                showNotification(`Driver ${driverName} assigned to order ${orderId}`, 'success');
                loadAdminOrders();
                updateAdminStats();
            }
        }

        function updateOrderStatus(orderId, newStatus) {
            if (!isAdminLoggedIn) return;
            
            const order = orders.find(o => o.id === orderId);
            if (order && newStatus) {
                if (newStatus === 'delayed') {
                    order.delayed = true;
                    order.delayReason = delayReasons[Math.floor(Math.random() * delayReasons.length)];
                    showNotification(`Order ${orderId} marked as delayed - ${order.delayReason}`, 'warning');
                } else {
                    order.status = newStatus;
                    order.delayed = false;
                    showNotification(`Order ${orderId} status updated to ${newStatus}`, 'success');
                }
                loadAdminOrders();
                updateAdminStats();
            }
        }

        function refreshOrders() {
            if (!isAdminLoggedIn) return;
            
            loadAdminOrders();
            updateAdminStats();
            showNotification('Orders refreshed successfully', 'success');
        }

        function exportOrders() {
            if (!isAdminLoggedIn) return;
            
            const csvContent = "data:text/csv;charset=utf-8," + 
                "Order ID,Customer,Phone,Items,Amount,Status,Driver,Delayed,Timestamp\n" +
                orders.map(order => 
                    `${order.id},"${order.customer}","${order.phone}","${Array.isArray(order.items) ? order.items.join('; ') : order.items}",${order.total},${order.status},"${order.driver || 'Not Assigned'}",${order.delayed ? 'Yes' : 'No'},"${order.timestamp}"`
                ).join("\n");
            
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", `orders_${new Date().toISOString().split('T')[0]}.csv`);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('Orders exported successfully', 'success');
        }

        // Utility Functions
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'warning' ? 'exclamation-triangle' : 'exclamation-triangle'}"></i>
                ${message}
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.3s ease reverse';
                setTimeout(() => notification.remove(), 300);
            }, 4000);
        }

        // Event Listeners
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeCheckoutModal();
                closeAdminLogin();
                document.getElementById('cartSidebar').classList.remove('open');
            }
        });

        // Close modals when clicking outside
        document.getElementById('checkoutModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCheckoutModal();
            }
        });

        document.getElementById('adminLoginModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAdminLogin();
            }
        });

        // Enter key for order tracking
        document.getElementById('orderNumber').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                trackOrder();
            }
        });
    </script>
</body>
</html>
